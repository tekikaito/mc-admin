<div class="flex flex-col gap-6">
  <!-- Header -->
  <div class="section-header">
    <div>
      <h2 class="section-title">Whitelist</h2>
      <h3 class="mt-2 m-0">Whitelisted Players</h3>
    </div>
    <div class="flex items-center gap-4">
      <button
        type="button"
        class="mc-btn--ghost status-indicator"
        hx-post="/whitelist/toggle"
        hx-target="#subpage-panel"
        hx-swap="innerHTML"
        title="Click to {{if .Enabled}}disable{{else}}enable{{end}} whitelist"
      >
        {{if .Enabled}}
        <span class="status-dot status-dot--online"></span>
        <span class="text-muted">Enabled</span>
        {{else}}
        <span class="status-dot status-dot--offline"></span>
        <span class="text-muted">Disabled</span>
        {{end}}
      </button>
      <span class="text-sm text-muted">{{.Count}} total</span>
    </div>
  </div>

  <!-- Add Player Form -->
  <form
    class="input-group"
    hx-post="/whitelist/player"
    hx-target="#subpage-panel"
    hx-swap="innerHTML"
    hx-on::after-request="this.reset()"
  >
    <label for="whitelist-player">Add player</label>
    <div class="form-inline">
      <input
        id="whitelist-player"
        name="playerName"
        type="text"
        required
        class="mc-input"
        placeholder="Player name"
      />
      <button type="submit" class="mc-btn">Add</button>
    </div>
  </form>

  <!-- Player List -->
  {{if .Players}}
  <ul class="player-list">
    {{range .Players}}
    <li class="player-list-item justify-between">
      <span>{{.}}</span>
      <button
        type="button"
        class="mc-btn mc-btn--danger mc-btn--sm"
        hx-delete="/whitelist/player/{{urlquery .}}"
        hx-target="#subpage-panel"
        hx-swap="innerHTML"
      >
        Remove
      </button>
    </li>
    {{end}}
  </ul>
  {{else}}
  <div class="empty-state">
    <p class="empty-state__title">No players whitelisted</p>
    <p class="empty-state__desc">Add players using the form above</p>
  </div>
  {{end}}
</div>
